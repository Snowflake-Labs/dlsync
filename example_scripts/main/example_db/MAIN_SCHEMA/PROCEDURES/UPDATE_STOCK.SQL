CREATE OR REPLACE PROCEDURE ${EXAMPLE_DB}.${MAIN_SCHEMA}.UPDATE_STOCK(P_PRODUCT_ID INT, P_QUANTITY INT)
RETURNS STRING
LANGUAGE SQL
AS
$$
BEGIN
    UPDATE ${EXAMPLE_DB}.${MAIN_SCHEMA}.PRODUCTS
    SET STOCK = STOCK - P_QUANTITY
    WHERE PRODUCT_ID = P_PRODUCT_ID;

    RETURN 'STOCK UPDATED SUCCESSFULLY';
END;
$$;